# EMECS 프론트엔드 Cloudtype + Docker 배포 가이드 (Next.js 15.x)

---

## 1. 준비 사항
- Cloudtype 계정 및 프로젝트 생성
- GitHub 저장소(프론트엔드만 배포)
- (선택) 도메인 소유 및 DNS 설정

---

## 2. Cloudtype 배포 절차

### 1) Cloudtype 프로젝트 생성
- Cloudtype(https://cloudtype.io) 접속 → 로그인
- [새 프로젝트] → [GitHub 연동] → 프론트엔드 저장소 선택
- [Dockerfile] 방식 선택

### 2) 빌드/런 커맨드 및 포트 설정
- 빌드 커맨드: (자동 감지, 별도 입력 불필요)
- 실행 커맨드: (Dockerfile ENTRYPOINT/ CMD 사용)
- 포트: 80 (Cloudtype에서 자동 감지, Dockerfile에서 EXPOSE 80 권장)

### 3) 환경변수 설정
- (필요시) Cloudtype [설정] → [환경변수]에서 입력
- 예시: `NEXT_PUBLIC_API_URL`, `NODE_ENV=production` 등

### 4) 배포
- [배포] 버튼 클릭 → 자동 빌드 및 실행
- 배포 완료 후 Cloudtype에서 제공하는 URL로 접속
- (선택) 도메인 연결: Cloudtype [설정] → [도메인]에서 연결 및 인증서 발급

---

## 3. 로컬 빌드/테스트 (Docker)

### 1) Docker 이미지 빌드
```bash
docker build -t emecs-frontend .
```

### 2) 컨테이너 실행 (로컬)
```bash
docker run -d -p 8080:80 --name emecs-frontend emecs-frontend
```
- http://localhost:8080 접속
- (Cloudtype은 80포트로 서비스)

---

## 4. (참고) 직접 서버 배포(Docker + nginx)
- 별도 서버에서 직접 운영 시 기존 가이드 참고
- 인증서, nginx.conf, 포트포워딩 등 필요

---

## 5. 문제 해결
- 빌드 실패: 로그 확인, 의존성 재설치, Dockerfile 수정
- 포트 충돌: Cloudtype은 80포트만 사용, 로컬은 8080 등으로 매핑
- 환경변수 미설정: Cloudtype [설정]에서 추가

---

## 6. 문의
- 추가 문의/지원 필요시 담당자에게 연락 